{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/src/lib/client/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { createClient } from \"@/utils/supabase/client\";\n\nexport async function getAllNews(page: number = 1, limit: number = 6) {\n  const supabase = createClient();\n  const offset = (page - 1) * limit;\n\n  try {\n    const { data, count, error } = await supabase\n      .from(\"news\")\n      .select(\"*\", { count: \"exact\" })\n      .order(\"created_at\", { ascending: false })\n      .range(offset, offset + limit - 1);\n\n    if (error) {\n      throw new Error(`Failed to fetch news: ${error.message}`);\n    }\n\n    return { news: data, total: count || 0 };\n  } catch (err) {\n    console.error(\"Unexpected error during fetching news:\", err);\n    throw err;\n  }\n}\n\nexport async function getLatestNews() {\n  const supabase = createClient();\n\n  const { data, error } = await supabase\n    .from(\"news\")\n    .select(\"*\")\n    .order(\"created_at\", { ascending: false })\n    .limit(5);\n\n  if (error) {\n    throw new Error(\"Failed to fetch latest news: \" + error.message);\n  }\n\n  return data;\n}\n\n//REVIEWS\n\nexport async function getLatestReviews() {\n  const supabase = createClient();\n\n  try {\n    const { data, error } = await supabase\n      .from(\"reviews\")\n      .select(\"*\")\n      .order(\"created_at\", { ascending: false })\n      .limit(10);\n\n    if (error) {\n      throw new Error(\"Failed to fetch latest reviews: \" + error.message);\n    }\n\n    return data;\n  } catch (err) {\n    console.error(\"Unexpected error during fetching reviews:\", err);\n    throw err;\n  }\n}\n\n// CREATE REQUEST\nexport async function createRequest(\n  name: string,\n  mobile: string,\n  category: string,\n  consent: boolean\n): Promise<void> {\n  const supabase = createClient();\n\n  try {\n    // Hent brugerens IP-adresse\n    const ipResponse = await fetch(\"https://api64.ipify.org?format=json\");\n    const ipData = await ipResponse.json();\n    const ipAddress = ipData.ip;\n\n    const consentTimestamp = consent ? new Date().toISOString() : null;\n\n    // Indsæt data i databasen\n    const { error } = await supabase.from(\"requests\").insert([\n      {\n        name,\n        mobile,\n        category,\n        consent,\n        consent_timestamp: consentTimestamp,\n        ip_address: ipAddress,\n        terms_version: \"v1.0\",\n      },\n    ]);\n\n    if (error) {\n      throw new Error(`Failed to create request: ${error.message}`);\n    }\n  } catch (error) {\n    console.error(\"Error in createRequest:\", error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;IAIsB;IAsBA;IAkBA;IAsBA"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/src/app/%28client%29/nyheder/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { getAllNews } from \"@/lib/client/actions\";\nimport Image from \"next/image\";\n\ninterface NewsItem {\n  id: string;\n  title: string;\n  desc: string;\n  image?: string;\n  imageBefore?: string;\n  imageAfter?: string;\n}\n\nconst News = () => {\n  const [news, setNews] = useState<NewsItem[]>([]);\n  const [page, setPage] = useState(1);\n  const limit = 6;\n\n  useEffect(() => {\n    const fetchNews = async () => {\n      try {\n        const { news } = await getAllNews(page, limit);\n        setNews(news);\n      } catch (error) {\n        console.error(\"Failed to fetch news:\", error);\n      }\n    };\n\n    fetchNews();\n  }, [page]);\n\n  return (\n    <div className=\"mt-[62px] md:mt-[95px] p-2 sm:p-3 w-full h-full flex flex-col gap-20 xl:gap-28 justify-center items-center py-16 xl:py-20 relative\">\n      <h1 className=\"mb-5 text-3xl md:text-4xl lg:text-5xl font-bold text-center\">\n        Seneste nyt <span className=\"text-primary\"> i haverne </span>\n      </h1>\n      <div className=\"md:max-w-lg lg:max-w-3xl xl:max-w-4xl flex flex-col gap-10 md:gap-16\">\n        {news.map((item) => (\n          <div\n            key={item.id}\n            className=\"card lg:card-side bg-base-100 shadow-md rounded-lg lg:h-72 xl:h-[350px]\"\n          >\n            <figure className=\"w-full lg:w-1/2\">\n              {item.imageBefore && item.imageAfter ? (\n                <div className=\"diff aspect-[16/9]\">\n                  <div className=\"diff-item-1\">\n                    <Image\n                      src={item.imageBefore || \"\"}\n                      alt={`${item.title} før`}\n                      width={500}\n                      height={300}\n                      style={{ objectFit: \"cover\" }}\n                    />\n                  </div>\n                  <div className=\"diff-item-2\">\n                    <Image\n                      src={item.imageAfter || \"\"}\n                      alt={`${item.title} efter`}\n                      width={500}\n                      height={300}\n                      style={{ objectFit: \"cover\" }}\n                    />\n                  </div>\n                  <div className=\"diff-resizer\"></div>\n                </div>\n              ) : (\n                <div className=\"relative w-full h-full pb-[56.25%] overflow-hidden\">\n                  <Image\n                    src={item.image || \"\"}\n                    alt={item.title}\n                    fill\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                    style={{ objectFit: \"cover\" }}\n                  />\n                </div>\n              )}\n            </figure>\n            <div className=\"card-body w-full lg:w-1/2\">\n              <h2 className=\"card-title\">{item.title}</h2>\n              <p>{item.desc}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default News;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAeA,MAAM,OAAO;IACX,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,QAAQ;IAEd,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAA,GAAA,+HAAA,CAAA,aAAU,AAAD,EAAE,MAAM;gBACxC,QAAQ;YACV,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;YACzC;QACF;QAEA;IACF,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBAA8D;kCAC9D,8OAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAE7C,8OAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,qBACT,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAO,WAAU;0CACf,KAAK,WAAW,IAAI,KAAK,UAAU,iBAClC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;gDACJ,KAAK,KAAK,WAAW,IAAI;gDACzB,KAAK,GAAG,KAAK,KAAK,CAAC,IAAI,CAAC;gDACxB,OAAO;gDACP,QAAQ;gDACR,OAAO;oDAAE,WAAW;gDAAQ;;;;;;;;;;;sDAGhC,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;gDACJ,KAAK,KAAK,UAAU,IAAI;gDACxB,KAAK,GAAG,KAAK,KAAK,CAAC,MAAM,CAAC;gDAC1B,OAAO;gDACP,QAAQ;gDACR,OAAO;oDAAE,WAAW;gDAAQ;;;;;;;;;;;sDAGhC,8OAAC;4CAAI,WAAU;;;;;;;;;;;yDAGjB,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAK,KAAK,KAAK,IAAI;wCACnB,KAAK,KAAK,KAAK;wCACf,IAAI;wCACJ,OAAM;wCACN,OAAO;4CAAE,WAAW;wCAAQ;;;;;;;;;;;;;;;;0CAKpC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAc,KAAK,KAAK;;;;;;kDACtC,8OAAC;kDAAG,KAAK,IAAI;;;;;;;;;;;;;uBAxCV,KAAK,EAAE;;;;;;;;;;;;;;;;AA+CxB;uCAEe"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/node_modules/next/src/client/app-call-server.ts"],"sourcesContent":["import { startTransition, useCallback } from 'react'\nimport {\n  ACTION_SERVER_ACTION,\n  type ReducerActions,\n  type ServerActionDispatcher,\n} from './components/router-reducer/router-reducer-types'\n\nlet globalServerActionDispatcher = null as ServerActionDispatcher | null\n\nexport function useServerActionDispatcher(\n  dispatch: React.Dispatch<ReducerActions>\n) {\n  const serverActionDispatcher: ServerActionDispatcher = useCallback(\n    (actionPayload) => {\n      startTransition(() => {\n        dispatch({\n          ...actionPayload,\n          type: ACTION_SERVER_ACTION,\n        })\n      })\n    },\n    [dispatch]\n  )\n  globalServerActionDispatcher = serverActionDispatcher\n}\n\nexport async function callServer(actionId: string, actionArgs: any[]) {\n  const actionDispatcher = globalServerActionDispatcher\n\n  if (!actionDispatcher) {\n    throw new Error('Invariant: missing action dispatcher.')\n  }\n\n  return new Promise((resolve, reject) => {\n    actionDispatcher({\n      actionId,\n      actionArgs,\n      resolve,\n      reject,\n    })\n  })\n}\n"],"names":["callServer","useServerActionDispatcher","globalServerActionDispatcher","dispatch","serverActionDispatcher","useCallback","actionPayload","startTransition","type","ACTION_SERVER_ACTION","actionId","actionArgs","actionDispatcher","Error","Promise","resolve","reject"],"mappings":";;;;;;;;;;;;;;;IA0BsBA,UAAU,EAAA;eAAVA;;IAjBNC,yBAAyB,EAAA;eAAzBA;;;uBAT6B;oCAKtC;AAEP,IAAIC,+BAA+B;AAE5B,SAASD,0BACdE,QAAwC;IAExC,MAAMC,yBAAiDC,CAAAA,GAAAA,OAAAA,WAAW,EAChE,CAACC;QACCC,CAAAA,GAAAA,OAAAA,eAAe,EAAC;YACdJ,SAAS;gBACP,GAAGG,aAAa;gBAChBE,MAAMC,oBAAAA,oBAAoB;YAC5B;QACF;IACF,GACA;QAACN;KAAS;IAEZD,+BAA+BE;AACjC;AAEO,eAAeJ,WAAWU,QAAgB,EAAEC,UAAiB;IAClE,MAAMC,mBAAmBV;IAEzB,IAAI,CAACU,kBAAkB;QACrB,MAAM,IAAIC,MAAM;IAClB;IAEA,OAAO,IAAIC,QAAQ,CAACC,SAASC;QAC3BJ,iBAAiB;YACfF;YACAC;YACAI;YACAC;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/node_modules/next/src/client/app-find-source-map-url.ts"],"sourcesContent":["const basePath = process.env.__NEXT_ROUTER_BASEPATH || ''\nconst pathname = `${basePath}/__nextjs_source-map`\n\nexport const findSourceMapURL =\n  process.env.NODE_ENV === 'development'\n    ? function findSourceMapURL(filename: string): string | null {\n        if (filename === '') {\n          return null\n        }\n\n        if (\n          filename.startsWith(document.location.origin) &&\n          filename.includes('/_next/static')\n        ) {\n          // This is a request for a client chunk. This can only happen when\n          // using Turbopack. In this case, since we control how those source\n          // maps are generated, we can safely assume that the sourceMappingURL\n          // is relative to the filename, with an added `.map` extension. The\n          // browser can just request this file, and it gets served through the\n          // normal dev server, without the need to route this through\n          // the `/__nextjs_source-map` dev middleware.\n          return `${filename}.map`\n        }\n\n        const url = new URL(pathname, document.location.origin)\n        url.searchParams.set('filename', filename)\n\n        return url.href\n      }\n    : undefined\n"],"names":["findSourceMapURL","basePath","process","env","__NEXT_ROUTER_BASEPATH","pathname","NODE_ENV","filename","startsWith","document","location","origin","includes","url","URL","searchParams","set","href","undefined"],"mappings":";;;;+BAGaA,oBAAAA;;;eAAAA;;;AAHb,MAAMC,WAAWC,QAAQC,GAAG,CAACC,sBAAsB,MAAI;AACvD,MAAMC,WAAY,KAAEJ,WAAS;AAEtB,MAAMD,mBACXE,QAAQC,GAAG,CAACG,QAAQ,KAAK,cACrB,SAASN,iBAAiBO,QAAgB;IACxC,IAAIA,aAAa,IAAI;QACnB,OAAO;IACT;IAEA,IACEA,SAASC,UAAU,CAACC,SAASC,QAAQ,CAACC,MAAM,KAC5CJ,SAASK,QAAQ,CAAC,kBAClB;QACA,kEAAkE;QAClE,mEAAmE;QACnE,qEAAqE;QACrE,mEAAmE;QACnE,qEAAqE;QACrE,4DAA4D;QAC5D,6CAA6C;QAC7C,OAAQ,KAAEL,WAAS;IACrB;IAEA,MAAMM,MAAM,IAAIC,IAAIT,UAAUI,SAASC,QAAQ,CAACC,MAAM;IACtDE,IAAIE,YAAY,CAACC,GAAG,CAAC,YAAYT;IAEjC,OAAOM,IAAII,IAAI;AACjB,IACAC","ignoreList":[0]}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// Since we're using the Edge build of Flight client for SSR [1], here we need to\n// also use the same Edge build to create the reference. For the client bundle,\n// we use the default and let Webpack to resolve it to the correct version.\n// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\nexport const createServerReference = (\n  (!!process.env.NEXT_RUNTIME\n    ? // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client.edge')\n    : // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client')) as typeof import('react-server-dom-webpack/client')\n).createServerReference\n"],"names":["callServer","createServerReference","findSourceMapURL","process","env","NEXT_RUNTIME","require"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IASNC,qBAAqB,EAAA;eAArBA;;IARJC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;AAQ1B,MAAMD,wBACV,CAAA,CAAC,CAACE,QAAQC,GAAG,CAACC,YAAY,GAEvBC,QAAQ,0CAERA,QAAQ,4JAAiC,EAC7CL,qBAAqB","ignoreList":[0]}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}