{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/src/app/login/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { createServerClientInstance } from \"@/utils/supabase/server\";\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\n\nexport async function login(formData: FormData) {\n  const supabase = await createServerClientInstance();\n\n  const data = {\n    email: formData.get(\"email\") as string,\n    password: formData.get(\"password\") as string,\n  };\n\n  const { error } = await supabase.auth.signInWithPassword(data);\n\n  if (error) {\n    console.error(\"Failed to login:\", error.message);\n    redirect(\"/login?error=true\");\n  } else {\n    revalidatePath(\"/\", \"layout\");\n    redirect(\"/admin\");\n  }\n}\n"],"names":[],"mappings":";;;;;IAMsB"}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/marcmoller/Documents/GitHub/hhservice/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { FaEnvelope, FaKey } from \"react-icons/fa6\";\nimport { login } from \"./actions\";\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState({ email: \"\", password: \"\" });\n  const [loading, setLoading] = useState(false);\n\n  const validateEmail = (email: string) => {\n    const re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    let valid = true;\n    let errors = { email: \"\", password: \"\" };\n\n    if (!validateEmail(email)) {\n      errors.email = \"Invalid email address\";\n      valid = false;\n    }\n\n    if (password.length < 6) {\n      errors.password = \"Password must be at least 6 characters\";\n      valid = false;\n    }\n\n    setErrors(errors);\n\n    if (valid) {\n      setLoading(true);\n      try {\n        const formData = new FormData();\n        formData.append(\"email\", email);\n        formData.append(\"password\", password);\n\n        await login(formData);\n      } catch (error) {\n        setErrors({ ...errors, password: \"Fejl ved login, prøv igen\" });\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"md:h-lvh bg-base-200 h-dvh flex items-center justify-center\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-base-100 p-10 rounded-lg shadow-lg flex flex-col gap-5\"\n      >\n        <div className=\"flex flex-col items-center gap-2\">\n          <span className=\"font-bold text-lg\">Admin</span>\n          <span className=\"text-sm\">HH SERVICE</span>\n        </div>\n        <div className=\"flex flex-col gap-2 relative\">\n          <label\n            htmlFor=\"email\"\n            className=\"input input-bordered flex items-center gap-2\"\n          >\n            <FaEnvelope />\n            <input\n              id=\"email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              type=\"text\"\n              className=\"grow\"\n              placeholder=\"Mail\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n          </label>\n          {errors.email && (\n            <span className=\" absolute -bottom-4 text-xs text-red-500\">\n              {errors.email}\n            </span>\n          )}\n        </div>\n        <div className=\"flex flex-col gap-2 relative\">\n          <label\n            htmlFor=\"password\"\n            className=\"input input-bordered flex items-center gap-2\"\n          >\n            <FaKey />\n            <input\n              id=\"password\"\n              name=\"password\"\n              autoComplete=\"current-password\"\n              type=\"password\"\n              className=\"grow\"\n              placeholder=\"Kodeord\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </label>\n          {errors.password && (\n            <span className=\"text-xs absolute -bottom-4 text-red-500\">\n              {errors.password}\n            </span>\n          )}\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary mt-2\"\n          disabled={loading}\n        >\n          {loading ? \"Logger ind...\" : \"Login\"}\n        </button>\n      </form>\n      <span className=\" text-[9px] items-center justify-center p-4 absolute bottom-0\">\n        © Crafted by Marccode\n      </span>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":[],"mappings":";;;;AAEA;AAEA;AADA;AAHA;;;;;AAMA,MAAM,YAAY;IAChB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,OAAO;QAAI,UAAU;IAAG;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,gBAAgB,CAAC;QACrB,MAAM,KAAK;QACX,OAAO,GAAG,IAAI,CAAC;IACjB;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,QAAQ;QACZ,IAAI,SAAS;YAAE,OAAO;YAAI,UAAU;QAAG;QAEvC,IAAI,CAAC,cAAc,QAAQ;YACzB,OAAO,KAAK,GAAG;YACf,QAAQ;QACV;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO,QAAQ,GAAG;YAClB,QAAQ;QACV;QAEA,UAAU;QAEV,IAAI,OAAO;YACT,WAAW;YACX,IAAI;gBACF,MAAM,WAAW,IAAI;gBACrB,SAAS,MAAM,CAAC,SAAS;gBACzB,SAAS,MAAM,CAAC,YAAY;gBAE5B,MAAM,CAAA,GAAA,8HAAA,CAAA,QAAK,AAAD,EAAE;YACd,EAAE,OAAO,OAAO;gBACd,UAAU;oBAAE,GAAG,MAAM;oBAAE,UAAU;gBAA4B;YAC/D,SAAU;gBACR,WAAW;YACb;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,UAAU;gBACV,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAoB;;;;;;0CACpC,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;kCAE5B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAQ;gCACR,WAAU;;kDAEV,8OAAC,+IAAA,CAAA,aAAU;;;;;kDACX,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,cAAa;wCACb,MAAK;wCACL,WAAU;wCACV,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,QAAQ;;;;;;;;;;;;4BAGX,OAAO,KAAK,kBACX,8OAAC;gCAAK,WAAU;0CACb,OAAO,KAAK;;;;;;;;;;;;kCAInB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAQ;gCACR,WAAU;;kDAEV,8OAAC,+IAAA,CAAA,QAAK;;;;;kDACN,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,cAAa;wCACb,MAAK;wCACL,WAAU;wCACV,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,QAAQ;;;;;;;;;;;;4BAGX,OAAO,QAAQ,kBACd,8OAAC;gCAAK,WAAU;0CACb,OAAO,QAAQ;;;;;;;;;;;;kCAItB,8OAAC;wBACC,MAAK;wBACL,WAAU;wBACV,UAAU;kCAET,UAAU,kBAAkB;;;;;;;;;;;;0BAGjC,8OAAC;gBAAK,WAAU;0BAAgE;;;;;;;;;;;;AAKtF;uCAEe"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}