(()=>{var e={};e.id=540,e.ids=[540],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},36178:(e,s,l)=>{"use strict";l.r(s),l.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var a=l(70260),t=l(28203),r=l(25155),i=l.n(r),n=l(67292),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);l.d(s,c);let d=["",{children:["(dashboard)",{children:["admin",{children:["content",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,76795)),"/Users/marcmoller/Documents/GitHub/hhservice/src/app/(dashboard)/admin/content/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(l.bind(l,58426)),"/Users/marcmoller/Documents/GitHub/hhservice/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(l.t.bind(l,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(l.t.bind(l,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(l.bind(l,71354)),"/Users/marcmoller/Documents/GitHub/hhservice/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(l.t.bind(l,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(l.t.bind(l,41485,23)),"next/dist/client/components/unauthorized-error"]}],o=["/Users/marcmoller/Documents/GitHub/hhservice/src/app/(dashboard)/admin/content/page.tsx"],m={require:l,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/(dashboard)/admin/content/page",pathname:"/admin/content",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},49470:(e,s,l)=>{Promise.resolve().then(l.bind(l,55501))},17926:(e,s,l)=>{Promise.resolve().then(l.bind(l,81934))},81934:(e,s,l)=>{"use strict";l.d(s,{default:()=>E});var a=l(45512),t=l(58009),r=l.n(t),i=l(49850),n=l(45103),c=l(26248);let d=(0,c.createServerReference)("60b0f8ce39ebbdcfc50127763e9c2dc2493b1c772d",c.callServer,void 0,c.findSourceMapURL,"getAllNews"),o=(0,c.createServerReference)("4012ceff769339c0e041117bc13bb0af26faf6b50c",c.callServer,void 0,c.findSourceMapURL,"deleteNews"),m=(0,c.createServerReference)("40023b0a659c89ebfc390cc62260285be92e3dcc96",c.callServer,void 0,c.findSourceMapURL,"getNewsById"),x=(0,c.createServerReference)("7f706c26c4da8631cbd694c81865dbf31f76c0befa",c.callServer,void 0,c.findSourceMapURL,"updateNews"),u=({newsId:e,onNewsUpdated:s})=>{let[l,r]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[d,o]=(0,t.useState)(""),[u,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[b,j]=(0,t.useState)(null),[v,N]=(0,t.useState)(null),[g,y]=(0,t.useState)(null),[w,S]=(0,t.useState)(null),[k,C]=(0,t.useState)({title:"",desc:"",city:"",image:"",imageBefore:"",imageAfter:""}),[A,q]=(0,t.useState)(!1),[R,B]=(0,t.useState)("normal"),[F,P]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{let s=await m(e);r(s.title),c(s.desc),o(s.city),B(s.formType),N(s.image),y(s.imageBefore),S(s.imageAfter)}catch(e){console.error("Failed to fetch news:",e)}})()},[e]);let T=async a=>{if(a.preventDefault(),q(!0),!l||!i||!d){C({title:l?"":"Titel er p\xe5kr\xe6vet",desc:i?"":"Beskrivelse er p\xe5kr\xe6vet",city:d?"":"By er p\xe5kr\xe6vet",image:"",imageBefore:"",imageAfter:""}),q(!1);return}try{await x(e,l,i,d,R,u||void 0,f||void 0,b||void 0),s(),P(!0),setTimeout(()=>P(!1),3e3)}catch(e){console.error(e),e instanceof Error&&C(s=>({...s,general:e.message}))}finally{q(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full p-3",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Opdater nyhed"}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)("div",{className:"form-control",children:(0,a.jsxs)("label",{className:"label cursor-pointer flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"formType",className:"radio radio-primary radio-sm",checked:"normal"===R,onChange:()=>B("normal")}),(0,a.jsx)("span",{className:"label-text",children:"Almindelig nyhed"})]})}),(0,a.jsx)("div",{className:"form-control",children:(0,a.jsxs)("label",{className:"label cursor-pointer flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"formType",className:"radio radio-primary radio-sm",checked:"beforeAfter"===R,onChange:()=>B("beforeAfter")}),(0,a.jsx)("span",{className:"label-text",children:"F\xf8r/Efter"})]})})]}),(0,a.jsxs)("form",{onSubmit:T,className:"flex flex-col items-start gap-5 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 lg:gap-14 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-5 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Titel"})}),(0,a.jsx)("input",{name:"title",type:"text",className:"input input-bordered input-md",placeholder:"Skriv en nyhedstitel...",value:l,onChange:e=>r(e.target.value),required:!0})]}),k.title&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.title})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Beskrivelse"})}),(0,a.jsx)("textarea",{name:"desc",className:"textarea textarea-bordered textarea-md text",value:i,onChange:e=>c(e.target.value),required:!0,placeholder:"Skriv en mindre nyhedsartikel...",style:{resize:"none"},cols:30,rows:8})]}),k.desc&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.desc})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"By/Omr\xe5de"})}),(0,a.jsx)("input",{name:"city",type:"text",className:"input input-bordered input-md",placeholder:"Skriv by eller omr\xe5de...",value:d,onChange:e=>o(e.target.value),required:!0})]}),k.city&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.city})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 relative",children:["normal"===R&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Opdater billede"})}),(0,a.jsx)("input",{name:"image",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>h(e.target.files?.[0]||null)})]}),k.image&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.image}),v&&!u&&(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-md h-0 pb-[56.25%]",children:(0,a.jsx)(n.default,{src:v,alt:"Existing",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"}})})]}),"beforeAfter"===R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:'Opdater "f\xf8r" billede'})}),(0,a.jsx)("input",{name:"imageBefore",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>p(e.target.files?.[0]||null)})]}),k.imageBefore&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.imageBefore}),g&&!f&&(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-md h-0 pb-[56.25%]",children:(0,a.jsx)(n.default,{src:g,alt:"Existing Before",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"}})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:'Opdater "efter" billede'})}),(0,a.jsx)("input",{name:"imageAfter",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>j(e.target.files?.[0]||null)})]}),k.imageAfter&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:k.imageAfter}),w&&!b&&(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-md h-0 pb-[56.25%]",children:(0,a.jsx)(n.default,{src:w,alt:"Existing After",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"}})})]})]})]})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",disabled:A,children:A?"Opdaterer":"Opdater nyhed"})]}),F&&(0,a.jsx)("div",{className:"toast bottom-20 md:bottom-0 toast-end",children:(0,a.jsx)("div",{className:"alert alert-success text-neutral-content",children:(0,a.jsx)("span",{className:"text-base md:text-lg",children:"Nyhed opdateret"})})})]})},h="/demo.webp",f=({view:e,page:s,setTotal:l,onEditNews:c})=>{let[m,x]=(0,t.useState)(!0),[f,p]=(0,t.useState)([]),[b,j]=(0,t.useState)(null),[v,N]=(0,t.useState)(null),[g,y]=(0,t.useState)(!1),w=(0,t.useCallback)(async()=>{try{x(!0);let{news:e,total:a}=await d(s);p(e||[]),l(a)}catch(e){console.error("Failed to fetch news:",e)}finally{x(!1)}},[s,l]);(0,t.useEffect)(()=>{w()},[s,l,w]);let S=(e,s)=>!e||e.length<=s?e||"":e.substring(0,s)+"...",k=(e,s)=>e.length<=s?e:e.substring(0,s)+"...",C=async()=>{if(null!==v)try{await o(v),N(null),y(!1),w()}catch(e){console.error("Failed to delete news:",e)}};return(0,a.jsxs)("div",{className:"w-full",children:[m?(0,a.jsxs)("div",{className:"flex justify-center gap-3 items-center",children:[(0,a.jsx)("span",{className:"loading loading-spinner loading-md"}),"Indhenter data..."]}):b?(0,a.jsx)(u,{newsId:b,onNewsUpdated:()=>{j(null),w()}}):(0,a.jsx)(a.Fragment,{children:"cards"===e?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:f.map(e=>(0,a.jsxs)("div",{className:"card card-compact shadow-lg rounded-md",children:[(0,a.jsx)("figure",{children:"beforeAfter"===e.formType?(0,a.jsxs)("div",{className:"diff aspect-[16/9]",children:[(0,a.jsx)("div",{className:"diff-item-1",children:(0,a.jsx)(n.default,{src:e.imageBefore||h,alt:`${e.title} f\xf8r`,width:500,height:300,style:{objectFit:"cover"}})}),(0,a.jsx)("div",{className:"diff-item-2",children:(0,a.jsx)(n.default,{src:e.imageAfter||h,alt:`${e.title} efter`,width:500,height:300,style:{objectFit:"cover"}})}),(0,a.jsx)("div",{className:"diff-resizer"})]}):(0,a.jsx)("div",{className:"relative w-full h-0 pb-[56.25%] overflow-hidden",children:(0,a.jsx)(n.default,{src:e.image||h,alt:e.title,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover"}})})}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h2",{className:"card-title text-lg",children:e.title}),(0,a.jsx)("p",{className:"text-xs",children:S(e.desc,100)}),(0,a.jsxs)("div",{className:"card-actions justify-end mt-2",children:[(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>c(e.id),children:[(0,a.jsx)(i.F7,{}),"Rediger"]}),(0,a.jsx)("button",{className:"btn btn-sm",onClick:()=>{N(e.id),y(!0)},children:(0,a.jsx)(i.qbC,{})})]})]})]},e.id))}):(0,a.jsx)("ul",{className:"flex flex-col gap-3",children:f.map(e=>(0,a.jsxs)(r().Fragment,{children:[(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("div",{className:"relative w-12 h-10 rounded-md overflow-hidden",children:(0,a.jsx)(n.default,{src:"beforeAfter"===e.formType?e.imageBefore||e.imageAfter||h:e.image||h,alt:e.title,fill:!0,style:{objectFit:"cover"}})}),(0,a.jsx)("h3",{className:"font-semibold text-xs hidden sm:block",children:e.title}),(0,a.jsx)("h3",{className:"font-semibold text-xs block sm:hidden",children:k(e.title,20)})]}),(0,a.jsxs)("div",{className:"flex gap-5 md:gap-2",children:[(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>c(e.id),children:[(0,a.jsx)(i.F7,{}),(0,a.jsx)("span",{className:"md:flex hidden",children:" Rediger "})]}),(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>{N(e.id),y(!0)},children:[(0,a.jsx)(i.qbC,{}),(0,a.jsx)("span",{className:"md:flex hidden",children:" Slet "})]})]})]})}),(0,a.jsx)("hr",{className:"border-[1px] rounded-lg border-base-200"})]},e.id))})}),g&&(0,a.jsx)("div",{className:"modal modal-open",children:(0,a.jsxs)("div",{className:"modal-box",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Bekr\xe6ft sletning"}),(0,a.jsx)("p",{className:"py-4",children:"Er du sikker p\xe5, at du vil slette denne nyhed?"}),(0,a.jsxs)("div",{className:"modal-action",children:[(0,a.jsx)("button",{className:"btn",onClick:()=>{N(null),y(!1)},children:"Annuller"}),(0,a.jsx)("button",{className:"btn btn-error",onClick:C,children:"Slet"})]})]})})]})},p=({page:e,setPage:s,total:l})=>{let t=Math.ceil(l/6);return(0,a.jsxs)("div",{className:"join bg-base-100",children:[(0,a.jsx)("button",{className:"join-item btn bg-base-100",onClick:()=>{e>1&&s(e-1)},disabled:1===e,children:(0,a.jsx)(i.ed2,{})}),(0,a.jsxs)("span",{className:"join-item btn bg-base-100",children:["Side ",e]}),(0,a.jsx)("button",{className:"join-item btn bg-base-100",onClick:()=>{e<t&&s(e+1)},disabled:e>=t,children:(0,a.jsx)(i.FDZ,{})})]})},b=({onViewChange:e})=>{let[s,l]=(0,t.useState)("cards"),r=s=>{l(s),e(s)};return(0,a.jsxs)("div",{role:"tablist",className:"tabs tabs-bordered",children:[(0,a.jsx)("a",{role:"tab",className:`tab ${"cards"===s?"tab-active":""}`,onClick:()=>r("cards"),children:"Kort"}),(0,a.jsx)("a",{role:"tab",className:`tab ${"list"===s?"tab-active":""}`,onClick:()=>r("list"),children:"Liste"})]})},j=(0,c.createServerReference)("7fceeb394f2642898b0ae856b770b91bf5393a6b05",c.callServer,void 0,c.findSourceMapURL,"createNews"),v=({onNewsCreated:e})=>{let[s,l]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[n,c]=(0,t.useState)(""),[d,o]=(0,t.useState)(null),[m,x]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[f,p]=(0,t.useState)({title:"",desc:"",city:"",image:"",imageBefore:"",imageAfter:""}),[b,v]=(0,t.useState)(!1),[N,g]=(0,t.useState)("normal"),y=async a=>{if(a.preventDefault(),v(!0),!s||!r||!n){p({title:s?"":"Titel er p\xe5kr\xe6vet",desc:r?"":"Beskrivelse er p\xe5kr\xe6vet",city:n?"":"By er p\xe5kr\xe6vet",image:"",imageBefore:"",imageAfter:""}),v(!1);return}try{await j(s,r,n,N,d||void 0,m||void 0,u||void 0),l(""),i(""),c(""),o(null),x(null),h(null),e()}catch(e){console.error(e),e instanceof Error&&p(s=>({...s,general:e.message}))}finally{v(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full p-3",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Opret nyhed"}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)("div",{className:"form-control",children:(0,a.jsxs)("label",{className:"label cursor-pointer flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"formType",className:"radio radio-primary radio-sm",checked:"normal"===N,onChange:()=>g("normal")}),(0,a.jsx)("span",{className:"label-text",children:"Almindelig nyhed"})]})}),(0,a.jsx)("div",{className:"form-control",children:(0,a.jsxs)("label",{className:"label cursor-pointer flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"formType",className:"radio radio-primary radio-sm",checked:"beforeAfter"===N,onChange:()=>g("beforeAfter")}),(0,a.jsx)("span",{className:"label-text",children:"F\xf8r/Efter"})]})})]}),(0,a.jsxs)("form",{onSubmit:y,className:"flex flex-col items-start gap-5 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5 lg:gap-14 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-5 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Titel"})}),(0,a.jsx)("input",{name:"title",type:"text",className:"input input-bordered input-md",placeholder:"Skriv en nyhedstitel...",value:s,onChange:e=>l(e.target.value),required:!0})]}),f.title&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.title})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Beskrivelse"})}),(0,a.jsx)("textarea",{name:"desc",className:"textarea textarea-bordered textarea-md text",value:r,onChange:e=>i(e.target.value),required:!0,placeholder:"Skriv en mindre nyhedsartikel...",style:{resize:"none"},cols:30,rows:8})]}),f.desc&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.desc})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 relative",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"By/Omr\xe5de"})}),(0,a.jsx)("input",{name:"city",type:"text",className:"input input-bordered input-md",placeholder:"Skriv en nyhedstitel...",value:n,onChange:e=>c(e.target.value),required:!0})]}),f.title&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.title})]}),"normal"===N&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"V\xe6lg billede"})}),(0,a.jsx)("input",{name:"image",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>o(e.target.files?.[0]||null),required:!0})]}),f.image&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.image})]}),"beforeAfter"===N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:'V\xe6lg "f\xf8r" billede'})}),(0,a.jsx)("input",{name:"imageBefore",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>x(e.target.files?.[0]||null),required:!0})]}),f.imageBefore&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.imageBefore})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:'V\xe6lg "efter" billede'})}),(0,a.jsx)("input",{name:"imageAfter",type:"file",className:"file-input file-input-bordered file-input-md w-full",onChange:e=>h(e.target.files?.[0]||null),required:!0})]}),f.imageAfter&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.imageAfter})]})]})]})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",disabled:b,children:b?"Opretter":"Opret nyhed"})]})]})},N=()=>{let[e,s]=(0,t.useState)("cards"),[l,r]=(0,t.useState)(!1),[n,c]=(0,t.useState)(!1),[d,o]=(0,t.useState)(null),[m,x]=(0,t.useState)(!1),[h,j]=(0,t.useState)(1),[N,g]=(0,t.useState)(0);return(0,a.jsxs)("div",{className:"flex flex-col md:items-start gap-7",children:[l?(0,a.jsxs)("div",{className:"flex flex-col items-start gap-5",children:[(0,a.jsxs)("button",{onClick:()=>r(!1),className:"btn btn-ghost",children:[(0,a.jsx)(i.ed2,{}),"Tilbage"]}),(0,a.jsx)(v,{onNewsCreated:()=>{r(!1),x(!0),setTimeout(()=>x(!1),3e3)}})]}):n&&null!==d?(0,a.jsxs)("div",{className:"flex flex-col items-start gap-5",children:[(0,a.jsxs)("button",{onClick:()=>c(!1),className:"btn btn-ghost",children:[(0,a.jsx)(i.ed2,{}),"Tilbage"]}),(0,a.jsx)(u,{newsId:d,onNewsUpdated:()=>{c(!1),x(!0),setTimeout(()=>x(!1),3e3)}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsx)("button",{onClick:()=>r(!0),className:"btn btn-primary",children:"Opret nyhed"}),(0,a.jsx)(b,{onViewChange:e=>{s(e)}})]}),(0,a.jsx)(f,{view:e,page:h,setTotal:g,onEditNews:e=>{o(e),c(!0)}}),(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(p,{page:h,setPage:j,total:N})})]}),m&&(0,a.jsx)("div",{className:"toast bottom-20 md:bottom-0 toast-end",children:(0,a.jsx)("div",{className:"alert alert-success text-neutral-content",children:(0,a.jsx)("span",{className:"text-base md:text-lg",children:l?"Nyhed oprettet":"Nyhed opdateret"})})})]})},g=(0,c.createServerReference)("6077b921ae294a5af7d3c63ca2da0af37134c2c749",c.callServer,void 0,c.findSourceMapURL,"getAllReviews"),y=(0,c.createServerReference)("4004c734b4399fb37c69b859d11ea4dd606207d43e",c.callServer,void 0,c.findSourceMapURL,"deleteReview");var w=l(34349);let S=({view:e,page:s,setTotal:l,onEditReview:n})=>{let[c,d]=(0,t.useState)(!0),[o,m]=(0,t.useState)([]),[x,u]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),p=(0,t.useCallback)(async()=>{try{d(!0);let{reviews:e,total:a}=await g(s);m(e||[]),l(a)}catch(e){console.error("Failed to fetch reviews:",e)}finally{d(!1)}},[s,l]),b=async()=>{if(null!==x)try{await y(x),u(null),f(!1),p()}catch(e){console.error("Failed to delete review:",e)}};return(0,t.useEffect)(()=>{p()},[s,l,p]),(0,a.jsxs)("div",{className:"w-full",children:[c?(0,a.jsxs)("div",{className:"flex justify-center gap-3 items-center",children:[(0,a.jsx)("span",{className:"loading loading-spinner loading-md"}),"Indhenter data..."]}):(0,a.jsx)(a.Fragment,{children:"cards"===e?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:o.map(e=>(0,a.jsx)("div",{className:"card card-compact shadow-lg rounded-md",children:(0,a.jsxs)("div",{className:"card-body p-5",children:[(0,a.jsx)(w.A,{rate:e.rate}),(0,a.jsx)("p",{className:"text-sm",children:e.desc}),(0,a.jsxs)("h2",{className:"text-xs font-bold flex items-center gap-1",children:[e.name,", ",e.city," ",(0,a.jsx)(i.sIY,{})]}),(0,a.jsxs)("div",{className:"card-actions justify-end",children:[(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>n(e.id),children:[(0,a.jsx)(i.F7,{}),"Rediger"]}),(0,a.jsx)("button",{className:"btn btn-sm",onClick:()=>{u(e.id),f(!0)},children:(0,a.jsx)(i.qbC,{})})]})]})},e.id))}):(0,a.jsx)("ul",{className:"flex flex-col gap-3",children:o.map(e=>(0,a.jsxs)(r().Fragment,{children:[(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center flex-initial sm:flex-1 w-16 sm:w-auto truncate",children:[(0,a.jsxs)("h3",{className:"font-semibold text-xs hidden sm:block ",children:[e.name,", ",e.city]}),(0,a.jsx)("h3",{className:"font-semibold text-xs block sm:hidden",children:e.name})]}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(w.A,{rate:e.rate})}),(0,a.jsxs)("div",{className:"flex gap-5 md:gap-2 flex-1 justify-end",children:[(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>n(e.id),children:[(0,a.jsx)(i.F7,{}),(0,a.jsx)("span",{className:"md:flex hidden",children:" Rediger "})]}),(0,a.jsxs)("button",{className:"btn btn-sm",onClick:()=>{u(e.id),f(!0)},children:[(0,a.jsx)(i.qbC,{}),(0,a.jsx)("span",{className:"md:flex hidden",children:" Slet "})]})]})]})}),(0,a.jsx)("hr",{className:"border-[1px] rounded-lg border-base-200"})]},e.id))})}),h&&(0,a.jsx)("div",{className:"modal modal-open",children:(0,a.jsxs)("div",{className:"modal-box",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Bekr\xe6ft sletning"}),(0,a.jsx)("p",{className:"py-4",children:"Er du sikker p\xe5, at du vil slette denne anmeldelse?"}),(0,a.jsxs)("div",{className:"modal-action",children:[(0,a.jsx)("button",{className:"btn",onClick:()=>{u(null),f(!1)},children:"Annuller"}),(0,a.jsx)("button",{className:"btn btn-error",onClick:b,children:"Slet"})]})]})})]})},k=({onViewChange:e})=>{let[s,l]=(0,t.useState)("cards"),r=s=>{l(s),e(s)};return(0,a.jsxs)("div",{role:"tablist",className:"tabs tabs-bordered",children:[(0,a.jsx)("a",{role:"tab",className:`tab ${"cards"===s?"tab-active":""}`,onClick:()=>r("cards"),children:"Kort"}),(0,a.jsx)("a",{role:"tab",className:`tab ${"list"===s?"tab-active":""}`,onClick:()=>r("list"),children:"Liste"})]})},C=({page:e,setPage:s,total:l})=>{let t=Math.ceil(l/6);return(0,a.jsxs)("div",{className:"join bg-base-100",children:[(0,a.jsx)("button",{className:"join-item btn bg-base-100",onClick:()=>{e>1&&s(e-1)},disabled:1===e,children:(0,a.jsx)(i.ed2,{})}),(0,a.jsxs)("span",{className:"join-item btn bg-base-100",children:["Side ",e]}),(0,a.jsx)("button",{className:"join-item btn bg-base-100",onClick:()=>{e<t&&s(e+1)},disabled:e>=t,children:(0,a.jsx)(i.FDZ,{})})]})},A=(0,c.createServerReference)("783652401cc108dcbde4182984f51249be69c88dfd",c.callServer,void 0,c.findSourceMapURL,"createReview"),q=({rate:e,setRate:s})=>(0,a.jsxs)("div",{className:"rating rating-lg md:rating-md flex gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"rating-4",className:"mask mask-star-2 bg-green-500",checked:1===e,onChange:()=>s(1)}),(0,a.jsx)("input",{type:"radio",name:"rating-4",className:"mask mask-star-2 bg-green-500",checked:2===e,onChange:()=>s(2)}),(0,a.jsx)("input",{type:"radio",name:"rating-4",className:"mask mask-star-2 bg-green-500",checked:3===e,onChange:()=>s(3)}),(0,a.jsx)("input",{type:"radio",name:"rating-4",className:"mask mask-star-2 bg-green-500",checked:4===e,onChange:()=>s(4)}),(0,a.jsx)("input",{type:"radio",name:"rating-4",className:"mask mask-star-2 bg-green-500",checked:5===e,onChange:()=>s(5)})]}),R=({onReviewCreated:e})=>{let[s,l]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[n,c]=(0,t.useState)(""),[d,o]=(0,t.useState)(1),[m,x]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[f,p]=(0,t.useState)({name:"",city:"",desc:""}),b=async l=>{if(l.preventDefault(),x(!0),h(null),!s||!n||!r){p({name:s?"":"Navn er p\xe5kr\xe6vet",city:r?"":"By er p\xe5kr\xe6vet",desc:n?"":"Beskrivelse er p\xe5kr\xe6vet"}),x(!1);return}try{await A(s,r,n,d),e()}catch{h("Failed to create review. Please try again.")}finally{x(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full p-3",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Opret anmeldese"}),(0,a.jsxs)("form",{onSubmit:b,className:"flex flex-col items-start gap-5 w-full",children:[u&&(0,a.jsx)("div",{className:"alert alert-error",children:u}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:"Vurdering"}),(0,a.jsx)(q,{rate:d,setRate:e=>o(e)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Navn"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered input-md",placeholder:"Anmelderens navn",value:s,onChange:e=>l(e.target.value),required:!0})]}),f.name&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.name})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"By"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered input-md",placeholder:"Anmelderens by",value:r,onChange:e=>i(e.target.value),required:!0})]}),f.city&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.city})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Beskrivelse"})}),(0,a.jsx)("textarea",{name:"desc",className:"textarea textarea-bordered textarea-md text",value:n,onChange:e=>c(e.target.value),required:!0,placeholder:"Skriv en mindre anmeldelse...",style:{resize:"none"},cols:30,rows:8})]}),f.desc&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:f.desc})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Opretter...":"Opret anmeldelse"})]})]})},B=(0,c.createServerReference)("40fff6f5cd56f1a1e497b992332043c6b8328fda2b",c.callServer,void 0,c.findSourceMapURL,"getReviewById"),F=(0,c.createServerReference)("7c3f5fb9448f81609a6d236464fce595d5e0ebdab6",c.callServer,void 0,c.findSourceMapURL,"updateReview"),P=({reviewId:e,onReviewUpdated:s})=>{let[l,r]=(0,t.useState)(""),[i,n]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[o,m]=(0,t.useState)(1),[x,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,b]=(0,t.useState)({name:"",city:"",desc:""});(0,t.useEffect)(()=>{(async()=>{try{let s=await B(e);r(s.name),n(s.city),d(s.desc),m(s.rate)}catch(e){console.error("Failed to fetch review:",e)}})()},[e]);let j=async a=>{if(a.preventDefault(),u(!0),f(null),!l||!c||!i){b({name:l?"":"Navn er p\xe5kr\xe6vet",city:i?"":"By er p\xe5kr\xe6vet",desc:c?"":"Beskrivelse er p\xe5kr\xe6vet"}),u(!1);return}try{await F(e,l,i,c,o),s()}catch(e){console.error("Failed to update review:",e),f("Failed to update review. Please try again.")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full p-3",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Opdater anmeldelse"}),(0,a.jsxs)("form",{onSubmit:j,className:"flex flex-col items-start gap-5 w-full",children:[h&&(0,a.jsx)("div",{className:"alert alert-error",children:h}),(0,a.jsxs)("div",{className:"form-control",children:[(0,a.jsx)("label",{className:"label",children:"Vurdering"}),(0,a.jsx)(q,{rate:o,setRate:e=>m(e)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Navn"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered input-md",placeholder:"Anmelderens navn",value:l,onChange:e=>r(e.target.value),required:!0})]}),p.name&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:p.name})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"By"})}),(0,a.jsx)("input",{type:"text",className:"input input-bordered input-md",placeholder:"Anmelderens by",value:i,onChange:e=>n(e.target.value),required:!0})]}),p.city&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:p.city})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 relative w-full",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Beskrivelse"})}),(0,a.jsx)("textarea",{name:"desc",className:"textarea textarea-bordered textarea-md text",value:c,onChange:e=>d(e.target.value),required:!0,placeholder:"Skriv en mindre anmeldelse...",style:{resize:"none"},cols:30,rows:8})]}),p.desc&&(0,a.jsx)("span",{className:"absolute -bottom-4 text-xs text-red-500",children:p.desc})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Opdaterer...":"Opdater anmeldelse"})]})]})},T=()=>{let[e,s]=(0,t.useState)("cards"),[l,r]=(0,t.useState)(!1),[n,c]=(0,t.useState)(!1),[d,o]=(0,t.useState)(null),[m,x]=(0,t.useState)(!1),[u,h]=(0,t.useState)(1),[f,p]=(0,t.useState)(0);return(0,a.jsxs)("div",{className:"flex flex-col md:items-start gap-7",children:[l?(0,a.jsxs)("div",{className:"flex flex-col items-start gap-5",children:[(0,a.jsxs)("button",{onClick:()=>r(!1),className:"btn btn-ghost",children:[(0,a.jsx)(i.ed2,{}),"Tilbage"]}),(0,a.jsx)(R,{onReviewCreated:()=>{r(!1),x(!0),setTimeout(()=>x(!1),3e3)}})]}):n&&null!==d?(0,a.jsxs)("div",{className:"flex flex-col items-start gap-5",children:[(0,a.jsxs)("button",{onClick:()=>c(!1),className:"btn btn-ghost",children:[(0,a.jsx)(i.ed2,{}),"Tilbage"]}),(0,a.jsx)(P,{reviewId:d,onReviewUpdated:()=>{c(!1),x(!0),setTimeout(()=>x(!1),3e3)}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsx)("button",{onClick:()=>r(!0),className:"btn btn-primary",children:"Opret anmeldelse"}),(0,a.jsx)(k,{onViewChange:e=>{s(e)}})]}),(0,a.jsx)(S,{view:e,page:u,setTotal:p,onEditReview:e=>{o(e),c(!0)}}),(0,a.jsx)("div",{className:"flex w-full justify-center",children:(0,a.jsx)(C,{page:u,setPage:h,total:f})})]}),m&&(0,a.jsx)("div",{className:"toast toast-end",children:(0,a.jsx)("div",{className:"alert alert-success",children:(0,a.jsx)("span",{className:"text-base md:text-lg",children:l?"Anmeldelse oprettet":"Anmeldelse opdateret"})})})]})},E=()=>{let[e,s]=(0,t.useState)("news");return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{role:"tablist",className:"tabs sm:tabs-lg w-full md:w-96 text-[15px]",children:[(0,a.jsxs)("button",{role:"tab",className:`tab gap-2  ${"news"===e?"bg-neutral text-neutral-content rounded-lg shadow-md":""}`,onClick:()=>s("news"),children:[(0,a.jsx)(i.lSZ,{}),"Nyheder"]}),(0,a.jsxs)("button",{role:"tab",className:`tab gap-2  ${"reviews"===e?"bg-neutral text-neutral-content rounded-lg shadow-md":""}`,onClick:()=>s("reviews"),children:[(0,a.jsx)(i.gt3,{}),"Anmeldelser"]})]}),(0,a.jsxs)("div",{className:"mt-3 md:mt-5",children:["news"===e&&(0,a.jsx)("div",{className:"bg-base-100 rounded-lg shadow-md p-5 md:p-7",children:(0,a.jsx)(N,{})}),"reviews"===e&&(0,a.jsx)("div",{className:"bg-base-100 rounded-lg shadow-md p-5 md:p-7",children:(0,a.jsx)(T,{})})]})]})}},34349:(e,s,l)=>{"use strict";l.d(s,{A:()=>r});var a=l(45512);l(58009);var t=l(49850);let r=({rate:e})=>(0,a.jsx)("div",{className:"flex gap-2 text-primary md:text-lg",children:[...Array(e)].map((e,s)=>(0,a.jsx)(t.gt3,{},s))})},76795:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>r});var a=l(62740);l(76301);var t=l(55501);let r=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.default,{})})},55501:(e,s,l)=>{"use strict";l.d(s,{default:()=>a});let a=(0,l(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/marcmoller/Documents/GitHub/hhservice/src/components/admin/content/NavContent.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marcmoller/Documents/GitHub/hhservice/src/components/admin/content/NavContent.tsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var l=e=>s(s.s=e),a=s.X(0,[638,818,850,566,730,103,542,372,217],()=>l(36178));module.exports=a})();